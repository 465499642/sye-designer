{
	"schemas": {
		"Worker": {
			"_id": "Worker",
			"_name": "Worker",
			"_schema": "WorkerSchema",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"worker": {
				"type": "object",
				"readOnly": false,
				"mandatory": false,
				"default": {}
			},
			"send": {
				"params": [
					{
						"name": "message",
						"type": "object"
					}
				]
			}
		},
		"WorkerSchema": {
			"_id": "WorkerSchema",
			"_name": "WorkerSchema",
			"_inherit": [
				"RuntimeComponentSchema"
			],
			"_core": true,
			"worker": "property",
			"send": "method"
		},
		"RuntimeAdminSchema": {
			"_id": "RuntimeAdminSchema",
			"_name": "RuntimeAdminSchema",
			"_inherit": [
				"RuntimeComponentSchema"
			],
			"_core": true,
			"start": "method"
		},
		"RuntimeAdmin": {
			"_id": "RuntimeAdmin",
			"_name": "RuntimeAdmin",
			"_schema": "RuntimeAdminSchema",
			"_inherit": [
				"RuntimeComponent"
			],
			"_core": true,
			"start": {
				"params": [
					{
						"name": "path",
						"type": "string",
						"mandatory": false,
						"default": ""
					}
				]
			}
		},
		"RuntimeChannelSchema": {
			"_id": "RuntimeChannelSchema",
			"_name": "RuntimeChannelSchema",
			"sync": "event",
			"loadSystem": "event",
			"updateBehavior": "event"
		},
		"RuntimeChannel": {
			"_id": "RuntimeChannel",
			"_name": "RuntimeChannel",
			"_schema": "RuntimeChannelSchema",
			"_inherit": [
				"RuntimeComponent"
			],
			"sync": {},
			"loadSystem": {
				"params": [
					{
						"name": "system",
						"type": "object"
					}
				]
			},
			"updateBehavior": {
				"params": [
					{
						"name": "id",
						"type": "string"
					},
					{
						"name": "behavior",
						"type": "object"
					}
				]
			}
		}
	},
	"types": {},
	"behaviors": {
		"1c00c107e01c9b3": {
			"_id": "1c00c107e01c9b3",
			"component": "RuntimeAdmin",
			"state": "start",
			"action": "function start(path) {\n    var Worker = null,\n    worker = null,\n    workerPath = '';\n    \n    if (path) {\n        workerPath = path + '/scripts/worker.js';\n        workerPath = workerPath.replace(/\\/\\//g,'/');\n    } else {\n        workerPath = '/designer/scripts/worker.js';\n    }\n    \n    if (typeof SharedWorker !== 'undefined') {\n        Worker = this.require('Worker');\n        worker = new Worker({\n            '_id': 'worker',\n            '_core': true,\n            'worker': new SharedWorker(workerPath),\n        });\n        \n        worker.worker().port.onmessage = function (e) {\n          $db.RuntimeMessage.insert(e.data);\n        };\n    }\n}",
			"useCoreAPI": true,
			"core": true
		},
		"18afb10f841b94b": {
			"_id": "18afb10f841b94b",
			"component": "RuntimeChannel",
			"state": "send",
			"action": "function send(message) {\n    this.require('worker').worker().port.postMessage(message);\n}",
			"useCoreAPI": false,
			"core": true
		},
		"1058d10a651fb87": {
			"_id": "1058d10a651fb87",
			"component": "RuntimeChannel",
			"state": "sync",
			"action": "function sync() {\n    this.loadSystem(JSON.parse(this.require('db').system()));\n}",
			"useCoreAPI": false,
			"core": true
		},
		"1f58e1d4221466a": {
			"_id": "1f58e1d4221466a",
			"component": "RuntimeChannel",
			"state": "updateBehavior",
			"action": "function updateBehavior(id, behavior) {\n    this.require(id).action(behavior.action);\n}",
			"useCoreAPI": false,
			"core": true
		}
	},
	"components": {
		"RuntimeAdmin": {
			"admin": {
				"_id": "admin"
			}
		},
		"RuntimeChannelEvent": {
			"108ae1968d14bf9": {
				"_id": "108ae1968d14bf9"
			}
		},
		"RuntimeChannel": {
			"1aec3130d71b6f1": {
				"_id": "1aec3130d71b6f1"
			}
		}
	},
	"name": "example",
	"version": "0.0.1",
	"description": "",
	"_id": "18ed81de331252c",
	"master": false,
	"subsystem": false
}