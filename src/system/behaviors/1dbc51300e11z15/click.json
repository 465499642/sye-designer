{
	"component": "1dbc51300e11z15",
	"state": "click",
	"action": "function click() {\n    $('#designer-toolbar-item-export-document').tooltip('hide');\n    \n    var data = this.require('designer').store().data();\n    var name = data.state;\n    var exportName = '';\n    var doc = {\n        \"name\": \"behavior \" + name,\n        \"master\": false,\n        \"subsystem\": true,\n        \"version\": \"0.0.1\",\n        \"description\": \"Behavior \" + name,\n        \"schemas\": {},\n        \"models\": {},\n        \"behaviors\": {},\n        \"types\": {},\n        \"components\": {}\n    };\n\n    // clean\n    doc.name = doc.name.trim();\n    doc.name = doc.name.replace(/ /gi, '-');\n    doc.name = doc.name.toLocaleLowerCase();\n\n    doc.behaviors[data._id] = data;\n\n    if (this.require('designer').store().data().component === this.require('designer').system().id()) {\n        exportName = 'behavior.' + this.require('designer').system().name() + '.' + name.replace(/ /gi, '-').toLowerCase() + '.json';\n    } else {\n        exportName = 'behavior.' + this.require('designer').store().data().component + '.' + name.replace(/ /gi, '-').toLowerCase() + '.json';\n    }\n\n    this.require('designer').saveAs(doc, exportName);\n}"
}