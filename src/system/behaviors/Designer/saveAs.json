{
	"component": "Designer",
	"state": "saveAs",
	"action": "function saveAs(data, fileName) {\n    var textToWrite = null,\n        textFileAsBlob = null,\n        fileNameToSaveAs = null,\n        downloadLink = null,\n        message = this.require('message');\n    \n    textToWrite = JSON.stringify(data);\n    fileNameToSaveAs = fileName;\n    \n    if (!this.isElectron()) {\n      \n      if (navigator.appName === 'Microsoft Internet Explorer') {\n        navigator.msSaveBlob(textToWrite, fileNameToSaveAs);\n      } else {\n        textFileAsBlob = new Blob([textToWrite], {\n            type: 'text/plain'\n        });\n        downloadLink = document.createElement('a');\n    \n        downloadLink.download = fileNameToSaveAs;\n        downloadLink.innerHTML = 'Download File';\n        if (window.webkitURL != null) {\n            downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);\n        } else {\n            downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n            downloadLink.onclick = function (event) {\n                document.body.removeChild(event.target);\n            };\n            downloadLink.style.display = 'none';\n            document.body.appendChild(downloadLink);\n        }\n    \n        downloadLink.click();\n      }\n      \n      message.success('exportation is done.');\n    } else {\n      var {dialog} = global.require(\"electron\").remote;\n      var fs = global.require('fs');\n      var savePath = dialog.showSaveDialog({\n        'defaultPath': '~/' + fileNameToSaveAs\n      });\n\n      if (savePath) {\n        fs.writeFile(savePath, textToWrite, function(err) {\n          if (err) {\n            message.danger('exportation failed.');\n          } else {\n            message.success('exportation is done.');\n          }\n        });\n      }\n    }\n}"
}